{% extends "base.html" %}
{% load static %}
{% block title %}Lista de Empleados - B√∫squeda - TACAE{% endblock %}
{% block content %}
<div class="container">
  <header class="header">
    <div class="logo-container">
      <img src="{% static 'img/tacae.jpg' %}" alt="TACAE Logo" class="logo">
      <!-- Bot√≥n de Inicio como imagen -->
      <a href="{% url 'home' %}" class="btn-home">
        <img src="{% static 'img/home_icon.jpg' %}" alt="Inicio" class="home-icon">
      </a>
    </div>
    <h1>Lista de Empleados</h1>
  </header>
  
  <div class="action-bar">
    <a href="{% url 'registrar_empleado' %}" class="btn-add">‚ûï Nuevo Empleado</a>
  </div>
  
  <div class="filter-bar">
    <input type="text" id="searchInput" placeholder="Buscar empleado..." />
  </div>
  
  {% if empleados %}
  <div class="table-container">
    <table class="modern-table" id="employeeTable">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>C√©dula</th>
          <th>Celular</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for empleado in empleados %}
        <tr>
          <td>{{ empleado.nombres }} {{ empleado.apellidos }}</td>
          <td>{{ empleado.cedula }}</td>
          <td>{{ empleado.celular }}</td>
          <td class="action-buttons">
            <a href="{% url 'editar_empleado' empleado.id %}" class="btn btn-edit">‚úèÔ∏è</a>
            <a href="{% url 'eliminar_empleado' empleado.id %}" class="btn btn-delete" onclick="return confirm('¬øEst√°s seguro de eliminar a este empleado?');">üóëÔ∏è</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
    <p class="no-employees">No hay empleados registrados.</p>
  {% endif %}
</div>

<script>
document.getElementById('searchInput').addEventListener('keyup', function() {
  var filter = this.value.toUpperCase();
  var rows = document.querySelectorAll('#employeeTable tbody tr');
  rows.forEach(function(row) {
    var nombre = row.cells[0].textContent.toUpperCase();
    row.style.display = nombre.indexOf(filter) > -1 ? "" : "none";
  });
});
</script>

<style>
  .container {
    width: 90%;
    max-width: 1000px;
    margin: 40px auto;
    padding: 25px;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15);
  }
  .filter-bar {
    margin: 15px 0;
    text-align: center;
  }
  .filter-bar input {
    width: 80%;
    max-width: 400px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 25px;
    font-size: 1rem;
  }
  /* Encabezado y botones */
  .header { display: flex; flex-direction: column; align-items: center; border-bottom: 2px solid #ddd; padding-bottom: 20px; margin-bottom: 20px; }
  .logo-container { display: flex; align-items: center; gap: 15px; justify-content: flex-start; }
  .logo { width: 80px; border-radius: 4px; }
  /* Bot√≥n de inicio como imagen */
  .btn-home {
    display: inline-block;
    text-decoration: none;
    margin-left: auto; /* Esto empuja el bot√≥n a la derecha */

  }
  .home-icon {
    width: 40px;
    height: auto;
  }
  h1 { font-size: 24px; margin-top: 10px; color: #222; }
  .action-bar { display: flex; justify-content: flex-end; margin: 15px 0; }
  .btn-add { background: #4CAF50; color: #fff; padding: 12px 18px; border-radius: 25px; text-decoration: none; font-weight: bold; transition: background 0.3s, transform 0.2s; }
  .btn-add:hover { background: #45a049; transform: scale(1.02); }
  .table-container { overflow-x: auto; }
  .modern-table {
    width: 100%;
    border-collapse: collapse;
    background: #fff;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
  }
  .modern-table thead { background: #333; color: #fff; }
  .modern-table th, .modern-table td { padding: 14px; text-align: center; border-bottom: 1px solid #ddd; }
  .modern-table tbody tr { transition: background 0.3s; }
  .modern-table tbody tr:hover { background: #f9f9f9; }
  .action-buttons { display: flex; justify-content: center; gap: 10px; }
  .btn { padding: 8px; border-radius: 50%; text-decoration: none; font-size: 18px; transition: all 0.3s ease; }
  .btn-edit { background: #ffcc00; color: #000; }
  .btn-edit:hover { background: #e6b800; }
  .btn-delete { background: #d32f2f; color: #fff; }
  .btn-delete:hover { background: #c62828; }
  .no-employees { font-size: 18px; color: #666; margin-top: 20px; text-align: center; }
</style>
{% endblock %}
